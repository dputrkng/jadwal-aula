<!DOCTYPE html>
<html>
<head>
    <title>Form Jadwal Pemakaian Ruangan</title>
</head>
<body>
    <h2>Form Jadwal Pemakaian Ruangan</h2>
    <form id="bookingForm">
        <label for="room">Ruangan:</label>
        <select id="room" name="room" required>
            <option value="Ruang A">Ruang A</option>
            <option value="Ruang B">Ruang B</option>
            <option value="Ruang C">Ruang C</option>
        </select>
        <br><br>

        <label for="date">Tanggal:</label>
        <input type="date" id="date" name="date" required>
        <br><br>

        <label for="startTime">Waktu Mulai:</label>
        <input type="time" id="startTime" name="startTime" required>
        <br><br>

        <label for="endTime">Waktu Selesai:</label>
        <input type="time" id="endTime" name="endTime" required>
        <br><br>

        <label for="purpose">Keperluan:</label>
        <input type="text" id="purpose" name="purpose" required>
        <br><br>

        <button type="submit">Pesan Ruangan</button>
    </form>

    <h3>Jadwal Pemakaian Ruangan</h3>
    <div id="schedule"></div>

    <script>
        const form = document.getElementById('bookingForm');
        const scheduleDiv = document.getElementById('schedule');
        const bookings = [];

        form.addEventListener('submit', function(event) {
            event.preventDefault();
            
            const room = form.room.value;
            const date = form.date.value;
            const startTime = form.startTime.value;
            const endTime = form.endTime.value;
            const purpose = form.purpose.value;

            // Cek bentrok jadwal
            for (let booking of bookings) {
                if (booking.room === room && booking.date === date) {
                    if ((startTime >= booking.startTime && startTime < booking.endTime) ||
                        (endTime > booking.startTime && endTime <= booking.endTime) ||
                        (startTime <= booking.startTime && endTime >= booking.endTime)) {
                        alert('Ruangan sudah terpakai pada waktu tersebut!');
                        return;
                    }
                }
            }

            // Simpan pemesanan
            bookings.push({ room, date, startTime, endTime, purpose });
            updateSchedule();

            // Reset form
            form.reset();
        });

        function updateSchedule() {
            scheduleDiv.innerHTML = '';
            for (let booking of bookings) {
                const bookingElement = document.createElement('div');
                bookingElement.textContent = `${booking.date} - ${booking.room} - ${booking.startTime} hingga ${booking.endTime} - ${booking.purpose}`;
                scheduleDiv.appendChild(bookingElement);
            }
        }
    </script>
</body>
</html>
